<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Delivery Parcel Views -->

  <record id="delivery_parcel_form" model="ir.ui.view">
    <field name="name">delivery.parcel.form</field>
    <field name="model">delivery.parcel</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <group string="Parcel Information">
              <field name="prcl_ref" placeholder="e.g., PRCL-2024-001" required="1" />
              <field name="sale_order_id" />
              <field name="tracking_id" placeholder="e.g., TRK1234567890" required="1" />
              <field name="parcel_dimensions" placeholder="e.g., 10x20x30 cm" />
              <field name="parcel_weight" widget="float" placeholder="e.g., 2.5 kg" />
              <field name="parcel_category" />
              <field name="description" />
            </group>
            <group string="Delivery Details">
              <field name="recipient_id" options="{'no_create_edit': True}" />
              <field name="stop_id" options="{'no_create_edit': True}" />
              <field name="route_id" options="{'no_create_edit': True}" />
              <field name="delivery_partner_id"
                invisible="status not in ('in_transit', 'delivered')"
                options="{'no_create_edit': True}" />
            </group>
            <group string="Status and Tracking">
              <field name="status" />
              <field name="current_location" widget="map" />
            </group>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="delivery_parcel_tree" model="ir.ui.view">
    <field name="name">delivery.parcel.tree</field>
    <field name="model">delivery.parcel</field>
    <field name="arch" type="xml">
      <list>
        <field name="prcl_ref" />
        <field name="tracking_id" />
        <field name="recipient_id" />
        <field name="route_id" />
        <field name="status" widget="badge" decoration-success="status == 'delivered'" decoration-danger="status == 'not_delivered'" decoration-info="status in ('pending_packing', 'awaiting_route', 'awaiting_partner')" decoration-warning="status == 'in_transit'"/>
      </list>
    </field>
  </record>

<record id="delivery_parcel_search" model="ir.ui.view">
    <field name="name">delivery.parcel.search</field>
    <field name="model">delivery.parcel</field>
    <field name="arch" type="xml">
        <search>
            <field name="prcl_ref"/>
            <field name="tracking_id"/>
            <field name="recipient_id"/>
            <field name="status"/>
            <filter name="pending_packing" string="Pending Packing" domain="[('status', '=', 'pending_packing')]"/>
            <filter name="in_transit" string="In Transit" domain="[('status', '=', 'in_transit')]"/>
            <filter name="delivered" string="Delivered" domain="[('status', '=', 'delivered')]"/>
            <filter name="not_delivered" string="Not Delivered" domain="[('status', '=', 'not_delivered')]"/>
        </search>
    </field>
</record>
  <!-- Delivery Route View -->
  <record id="delivery_route_form" model="ir.ui.view">
    <field name="name">delivery.route.form</field>
    <field name="model">delivery.route</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="route_id" />
            <field name="generated_time" />
            <field name="delivery_partner_id" />
            <field name="distance" />
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Delivery Stop View -->
  <record id="delivery_stop_form" model="ir.ui.view">
    <field name="name">delivery.stop.form</field>
    <field name="model">delivery.stop</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="address" />
            <field name="stop_type" />
            <field name="status" />
            <field name="route_id" />
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <!-- Actions for these views -->
  <record id="delivery_parcel_action" model="ir.actions.act_window">
    <field name="name">Parcels</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">delivery.parcel</field>
    <field name="view_mode">list,form</field>
  </record>

  <record id="delivery_route_action" model="ir.actions.act_window">
    <field name="name">Routes</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">delivery.route</field>
    <field name="view_mode">list,form</field>
  </record>

  <record id="delivery_stop_action" model="ir.actions.act_window">
    <field name="name">Stops</field>
    <field name="type">ir.actions.act_window</field>
    <field name="res_model">delivery.stop</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- Menu items -->

  <menuitem id="deliverysystem.delivery_root"
    name="Delivery System"
    sequence="10" />

  <menuitem
    id="delivery_parcel_menu"
    name="Parcels"
    action="delivery_parcel_action"
    parent="deliverysystem.delivery_root"
  />

  <menuitem
    id="delivery_route_menu"
    name="Routes"
    action="delivery_route_action"
    parent="deliverysystem.delivery_root"
  />

  <menuitem
    id="delivery_stop_menu"
    name="Stops"
    action="delivery_stop_action"
    parent="deliverysystem.delivery_root"
  />


</odoo>